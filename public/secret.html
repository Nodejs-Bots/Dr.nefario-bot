<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Secret Logs</title>
  <style>
    body { font-family: Arial, sans-serif; background: #1e1e1e; color: #fff; padding: 20px; }
    h1 { color: #f39c12; }
    #logs { margin-top: 20px; background: #2c2c2c; padding: 15px; border-radius: 8px; max-height: 70vh; overflow-y: scroll; }
    .log-entry { margin-bottom: 5px; }
  </style>
</head>
<body>
  <h1>Secret Bot Logs</h1>
  <div id="logs">Loading logs...</div>

  <script>
    const logsContainer = document.getElementById("logs");

    async function fetchLogs() {
      try {
        const urlParams = new URLSearchParams(window.location.search);
        const password = urlParams.get("password");
        if (!password) {
          logsContainer.innerHTML = "No password provided!";
          return;
        }

        const response = await fetch(`/logs?password=${password}`);
        if (!response.ok) throw new Error("Unauthorized or server error");

        const logs = await response.json();
        if (logs.length === 0) {
          logsContainer.innerHTML = "No logs yet!";
        } else {
          logsContainer.innerHTML = logs.map(log => `<div class="log-entry">${log}</div>`).join("");
        }
      } catch (err) {
        logsContainer.innerHTML = "Error fetching logs: " + err.message;
      }
    }

    fetchLogs();
    setInterval(fetchLogs, 5000);
  </script>
</body>
</html>

